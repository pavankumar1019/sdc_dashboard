'use strict';$(document).ready(function(){function e(){$.ajax({url:"./php_operations/newadmissions.php",method:"POST",data:{type:"getcount"},success:function(b){$("#getcountdata").html(b)}})}function d(b,a=""){$.ajax({url:"./php_operations/newadmissions.php",method:"POST",data:{page:b,query:a,type:"loaddata"},success:function(c){$("#dynamic_content").html(c)}})}$("#btnAdmissionModal").click(function(){$("#newadmissionmodal").modal("show");$("#newadmissionform").trigger("reset");$("#type").val("add")});
e();setInterval(function(){e()},1E3);d(1);$(document).on("click",".page-link",function(){var b=$(this).data("page_number"),a=$("#search_box").val();d(b,a)});$("#search_box").keyup(function(){var b=$("#search_box").val();d(1,b)});$(document).on("click","#delete",function(){Swal.fire({title:"Are your sure want to Delete?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Delete",denyButtonText:"Don't Delete"}).then(b=>{b.isConfirmed?(b=$(this).attr("data-id"),$.ajax({url:"./php_operations/newadmissions.php",
method:"POST",data:{id:b,type:"delete"},dataType:"json",success:function(a){Swal.fire("Done","","info")}})):b.isDenied&&Swal.fire("Not failed","","info")})});$(document).on("click","#edit",function(){var b=$(this).attr("data-id");$.ajax({url:"./php_operations/newadmissions.php",method:"POST",data:{id:b,type:"edit"},dataType:"json",success:function(a){$("#newadmissionmodal").modal("show");$("#type").val("update");$("#id").val(a.id);$("#student_name").val(a.student_name);$("#student_aadhar").val(a.student_aadhar);
$("#father_name").val(a.father_name);$("#mother_name").val(a.mother_name);$("#caste").val(a.caste);const c=a.dob.split("-");$("#dd").val(c[0]);$("#mm").val(c[1]);$("#yy").val(c[2]);$("#religion").append(`<option value="${a.religion}" selected> ${a.religion} </option>`);$("[name=customRadio]").val([a.gender]);$("#subcaste").val(a.subcaste);$("#address").val(a.address);$("#mobile_no").val(a.mobile_no);$("#email_id").val(a.email_id);$("#reg_no_sslc").val(a.reg_no_sslc);$("#year_of_passing").val(a.year_of_passing);
$("#total").val(a.total);$("#combination_opted").val(a.combination_opted);$("#lang_opted").val(a.lang_opted)}})});$("#newadmissionform").on("submit",function(b){b.preventDefault();$.ajax({method:"POST",url:"./php_operations/newadmissions.php",data:$("form").serialize(),beforeSend:function(){$("#submit").val("connecting...")},complete:function(){$("#submit").val("Submit")},success:function(a){d(1);$("#newadmissionform").trigger("reset")}})})});