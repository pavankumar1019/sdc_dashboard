function markabsent(id){$("#"+id).html('<i class="fas fa-circle text-c-red f-20 m-r-15"> &nbsp;A</i>'),$("."+id).val("A")}function markpresent(id){$("#"+id).html('<i class="fas fa-circle text-c-green f-20 m-r-15"> &nbsp;P</i>'),$("."+id).val("P")}$(document).ready((function(){function getstudentlist(class_id){$.ajax({url:"./php_operations/smsattendies.php",method:"POST",data:{class_id:class_id,type:"getlist"},success:function(result){$("#student_list").html(result)}})}function loadtotalStudents(){var class_code=$("#class_select").val();$.ajax({url:"./php_operations/smsattendies.php",method:"POST",data:{type:"loadtotal",class_code:class_code},success:function(result){$("#total_student").html(result)}})}function loadtotalAbsentiesStudents(){var class_code=$("#class_select").val();$.ajax({url:"./php_operations/smsattendies.php",method:"POST",data:{type:"loadabsenties",class_code:class_code},success:function(result){$("#total_student_absenties").html(result)}})}getstudentlist($("#class_select").val()),$("#class_select").on("change",(function(e){var class_id=this.value;loadtotalStudents(),getstudentlist(class_id),loadtotalAbsentiesStudents()})),loadtotalStudents(),loadtotalAbsentiesStudents(),$("#btn_submit").click((function(){var reg_no=$("input[name='reg_no[]']").map((function(){return $(this).val()})).get(),status=$("input[name='status[]']").map((function(){return $(this).val()})).get(),class_code=$("#class_select").val();$.ajax({url:"./php_operations/smsattendies.php",method:"POST",data:{status:status,reg_no:reg_no,type:"add_atten",class_code:class_code},beforeSend:function(){$("#exampleModalCenter").modal("show"),$("#progress").html("Proccesing"),$("#loading").animate({width:"50%"},9e3)},complete:function(){$("#progress").html("Done"),$("#exampleModalCenter").modal("hide"),$("#loading").animate({width:"100%"},10)},success:function(result){$("#result").html(result+"<br>"),getstudentlist($("#class_select").val())}})})),$("#downloadexcelreport").click((function(event){window.location="./php_operations/attendancedownload.php?type=downloadreport&class_id="+$("#class_select").val(),event.preventDefault()}))}));